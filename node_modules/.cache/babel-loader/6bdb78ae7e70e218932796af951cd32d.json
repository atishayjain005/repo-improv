{"ast":null,"code":"var _jsxFileName = \"/home/akshay/Atishay/appointy-screening/src/context/Token/TokenState.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport TokenContext from \"./TokenContext\";\nimport { getAuth, signInWithPopup, GithubAuthProvider } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst TokenState = props => {\n  _s();\n\n  const [tokenValue, setTokenValue] = useState(\"\");\n  const firebaseConfig = {\n    apiKey: \"AIzaSyCoqHK57lKtGlYUn2pE_g7IboYSLgYD4L4\",\n    authDomain: \"repo-improv-b8248.firebaseapp.com\",\n    projectId: \"repo-improv-b8248\",\n    storageBucket: \"repo-improv-b8248.appspot.com\",\n    messagingSenderId: \"720467839619\",\n    appId: \"1:720467839619:web:12081ce7be2b95a10629b6\",\n    measurementId: \"G-GPWZMQQ6GT\"\n  }; // Initialize Firebase\n\n  const app = initializeApp(firebaseConfig);\n\n  const signInAuth = provider => {\n    const auth = getAuth(app);\n    signInWithPopup(auth, provider).then(result => {\n      // This gives you a GitHub Access Token. You can use it to access the GitHub API.\n      const credential = GithubAuthProvider.credentialFromResult(result);\n      const token = credential.accessToken;\n      console.log(token);\n      setTokenValue(token);\n      localStorage.setItem(\"token\", token); // The signed-in user info.\n\n      const user = result.user;\n      console.log(user);\n      localStorage.setItem(\"user\", user.displayName);\n\n      if (user) {\n        window.location = '/home';\n      } else {\n        window.location = \"/\";\n      } // ...\n\n    }).catch(error => {\n      window.location = \"/\";\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(TokenContext.Provider, {\n    value: {\n      tokenValue,\n      signInAuth\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(TokenState, \"hws5sBLLQsS+ALYT1byVwyoaQj0=\");\n\n_c = TokenState;\nexport default TokenState;\n\nvar _c;\n\n$RefreshReg$(_c, \"TokenState\");","map":{"version":3,"sources":["/home/akshay/Atishay/appointy-screening/src/context/Token/TokenState.js"],"names":["React","TokenContext","getAuth","signInWithPopup","GithubAuthProvider","initializeApp","useState","TokenState","props","tokenValue","setTokenValue","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","signInAuth","provider","auth","then","result","credential","credentialFromResult","token","accessToken","console","log","localStorage","setItem","user","displayName","window","location","catch","error","children"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,OAAT,EAAkBC,eAAlB,EAAmCC,kBAAnC,QAA6D,eAA7D;AACA,SAASC,aAAT,QAA8B,cAA9B;AACA,SAASC,QAAT,QAAyB,OAAzB;;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAAA;;AAE1B,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BJ,QAAQ,CAAC,EAAD,CAA5C;AAEA,QAAMK,cAAc,GAAG;AACnBC,IAAAA,MAAM,EAAE,yCADW;AAEnBC,IAAAA,UAAU,EAAE,mCAFO;AAGnBC,IAAAA,SAAS,EAAE,mBAHQ;AAInBC,IAAAA,aAAa,EAAE,+BAJI;AAKnBC,IAAAA,iBAAiB,EAAE,cALA;AAMnBC,IAAAA,KAAK,EAAE,2CANY;AAOnBC,IAAAA,aAAa,EAAE;AAPI,GAAvB,CAJ0B,CAc1B;;AACA,QAAMC,GAAG,GAAGd,aAAa,CAACM,cAAD,CAAzB;;AAEA,QAAMS,UAAU,GAAIC,QAAD,IAAc;AAC7B,UAAMC,IAAI,GAAGpB,OAAO,CAACiB,GAAD,CAApB;AACAhB,IAAAA,eAAe,CAACmB,IAAD,EAAOD,QAAP,CAAf,CACKE,IADL,CACWC,MAAD,IAAY;AAEd;AACA,YAAMC,UAAU,GAAGrB,kBAAkB,CAACsB,oBAAnB,CAAwCF,MAAxC,CAAnB;AACA,YAAMG,KAAK,GAAGF,UAAU,CAACG,WAAzB;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AAEAjB,MAAAA,aAAa,CAACiB,KAAD,CAAb;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,KAA9B,EATc,CAWd;;AACA,YAAMM,IAAI,GAAGT,MAAM,CAACS,IAApB;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ;AAEAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,WAAlC;;AAEA,UAAID,IAAJ,EAAU;AACNE,QAAAA,MAAM,CAACC,QAAP,GAAkB,OAAlB;AACH,OAFD,MAEO;AACHD,QAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACH,OArBa,CAsBd;;AACH,KAxBL,EAwBOC,KAxBP,CAwBcC,KAAD,IAAW;AAChBH,MAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACH,KA1BL;AA2BH,GA7BD;;AAgCA,sBACI,QAAC,YAAD,CAAc,QAAd;AAAuB,IAAA,KAAK,EAAE;AAAE3B,MAAAA,UAAF;AAAcW,MAAAA;AAAd,KAA9B;AAAA,cACKZ,KAAK,CAAC+B;AADX;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CAtDD;;GAAMhC,U;;KAAAA,U;AAwDN,eAAeA,UAAf","sourcesContent":["import React from \"react\";\nimport TokenContext from \"./TokenContext\";\nimport { getAuth, signInWithPopup, GithubAuthProvider } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { useState } from \"react\";\n\nconst TokenState = (props) => {\n\n    const [tokenValue, setTokenValue] = useState(\"\")\n\n    const firebaseConfig = {\n        apiKey: \"AIzaSyCoqHK57lKtGlYUn2pE_g7IboYSLgYD4L4\",\n        authDomain: \"repo-improv-b8248.firebaseapp.com\",\n        projectId: \"repo-improv-b8248\",\n        storageBucket: \"repo-improv-b8248.appspot.com\",\n        messagingSenderId: \"720467839619\",\n        appId: \"1:720467839619:web:12081ce7be2b95a10629b6\",\n        measurementId: \"G-GPWZMQQ6GT\"\n    };\n\n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig);\n\n    const signInAuth = (provider) => {\n        const auth = getAuth(app);\n        signInWithPopup(auth, provider)\n            .then((result) => {\n\n                // This gives you a GitHub Access Token. You can use it to access the GitHub API.\n                const credential = GithubAuthProvider.credentialFromResult(result);\n                const token = credential.accessToken;\n\n                console.log(token)\n\n                setTokenValue(token);\n                localStorage.setItem(\"token\", token);\n\n                // The signed-in user info.\n                const user = result.user;\n                console.log(user)\n\n                localStorage.setItem(\"user\", user.displayName);\n\n                if (user) {\n                    window.location = '/home'\n                } else {\n                    window.location = \"/\";\n                }\n                // ...\n            }).catch((error) => {\n                window.location = \"/\";\n            });\n    }\n\n\n    return (\n        <TokenContext.Provider value={{ tokenValue, signInAuth }}>\n            {props.children}\n        </TokenContext.Provider>\n    )\n}\n\nexport default TokenState"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/home/akshay/Atishay/appointy-screening/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import TokenContext from\"./TokenContext\";import{getAuth,signInWithPopup,GithubAuthProvider}from\"firebase/auth\";import{initializeApp}from\"firebase/app\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var TokenState=function TokenState(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),tokenValue=_useState2[0],setTokenValue=_useState2[1];var firebaseConfig={apiKey:\"AIzaSyC1Ybbqn2ZgdXsJcnSDKWer0Zx3-Qv0ROM\",authDomain:\"repo-improv.firebaseapp.com\",projectId:\"repo-improv\",storageBucket:\"repo-improv.appspot.com\",messagingSenderId:\"326241984035\",appId:\"1:326241984035:web:ade250b2bc59dc8763db96\",measurementId:\"G-B09R5NFKVV\"};// Initialize Firebase\nvar app=initializeApp(firebaseConfig);var signInAuth=function signInAuth(provider){var auth=getAuth(app);signInWithPopup(auth,provider).then(function(result){// This gives you a GitHub Access Token. You can use it to access the GitHub API.\nvar credential=GithubAuthProvider.credentialFromResult(result);var token=credential.accessToken;console.log(token);setTokenValue(token);localStorage.setItem(\"token\",token);// The signed-in user info.\nvar user=result.user;console.log(user);localStorage.setItem(\"user\",user.displayName);if(user){window.location='/home';}else{window.location=\"/\";}// ...\n}).catch(function(error){window.location=\"/\";});};return/*#__PURE__*/_jsx(TokenContext.Provider,{value:{tokenValue:tokenValue,signInAuth:signInAuth},children:props.children});};export default TokenState;","map":{"version":3,"sources":["/home/akshay/Atishay/appointy-screening/src/context/Token/TokenState.js"],"names":["React","TokenContext","getAuth","signInWithPopup","GithubAuthProvider","initializeApp","useState","TokenState","props","tokenValue","setTokenValue","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","signInAuth","provider","auth","then","result","credential","credentialFromResult","token","accessToken","console","log","localStorage","setItem","user","displayName","window","location","catch","error","children"],"mappings":"0HAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,OAAT,CAAkBC,eAAlB,CAAmCC,kBAAnC,KAA6D,eAA7D,CACA,OAASC,aAAT,KAA8B,cAA9B,CACA,OAASC,QAAT,KAAyB,OAAzB,C,2CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAE1B,cAAoCF,QAAQ,CAAC,EAAD,CAA5C,wCAAOG,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,yCADW,CAEzBC,UAAU,CAAE,6BAFa,CAGzBC,SAAS,CAAE,aAHc,CAIzBC,aAAa,CAAE,yBAJU,CAKzBC,iBAAiB,CAAE,cALM,CAMzBC,KAAK,CAAE,2CANkB,CAOzBC,aAAa,CAAE,cAPU,CAAvB,CAUA;AACA,GAAMC,CAAAA,GAAG,CAAGd,aAAa,CAACM,cAAD,CAAzB,CAEA,GAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,QAAD,CAAc,CAC7B,GAAMC,CAAAA,IAAI,CAAGpB,OAAO,CAACiB,GAAD,CAApB,CACAhB,eAAe,CAACmB,IAAD,CAAOD,QAAP,CAAf,CACKE,IADL,CACU,SAACC,MAAD,CAAY,CAEd;AACA,GAAMC,CAAAA,UAAU,CAAGrB,kBAAkB,CAACsB,oBAAnB,CAAwCF,MAAxC,CAAnB,CACA,GAAMG,CAAAA,KAAK,CAAGF,UAAU,CAACG,WAAzB,CAEAC,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAEAjB,aAAa,CAACiB,KAAD,CAAb,CACAI,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BL,KAA9B,EAEA;AACA,GAAMM,CAAAA,IAAI,CAAGT,MAAM,CAACS,IAApB,CACAJ,OAAO,CAACC,GAAR,CAAYG,IAAZ,EAEAF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,WAAlC,EAEA,GAAID,IAAJ,CAAU,CACNE,MAAM,CAACC,QAAP,CAAkB,OAAlB,CACH,CAFD,IAEO,CACHD,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACH,CACD;AACH,CAxBL,EAwBOC,KAxBP,CAwBa,SAACC,KAAD,CAAW,CAChBH,MAAM,CAACC,QAAP,CAAkB,GAAlB,CACH,CA1BL,EA2BH,CA7BD,CAgCA,mBACI,KAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CAAE,CAAE3B,UAAU,CAAVA,UAAF,CAAcW,UAAU,CAAVA,UAAd,CAA9B,UACKZ,KAAK,CAAC+B,QADX,EADJ,CAKH,CAtDD,CAwDA,cAAehC,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport TokenContext from \"./TokenContext\";\nimport { getAuth, signInWithPopup, GithubAuthProvider } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { useState } from \"react\";\n\nconst TokenState = (props) => {\n\n    const [tokenValue, setTokenValue] = useState(\"\")\n\n    const firebaseConfig = {\n        apiKey: \"AIzaSyC1Ybbqn2ZgdXsJcnSDKWer0Zx3-Qv0ROM\",\n  authDomain: \"repo-improv.firebaseapp.com\",\n  projectId: \"repo-improv\",\n  storageBucket: \"repo-improv.appspot.com\",\n  messagingSenderId: \"326241984035\",\n  appId: \"1:326241984035:web:ade250b2bc59dc8763db96\",\n  measurementId: \"G-B09R5NFKVV\"\n    };\n\n    // Initialize Firebase\n    const app = initializeApp(firebaseConfig);\n\n    const signInAuth = (provider) => {\n        const auth = getAuth(app);\n        signInWithPopup(auth, provider)\n            .then((result) => {\n\n                // This gives you a GitHub Access Token. You can use it to access the GitHub API.\n                const credential = GithubAuthProvider.credentialFromResult(result);\n                const token = credential.accessToken;\n\n                console.log(token)\n\n                setTokenValue(token);\n                localStorage.setItem(\"token\", token);\n\n                // The signed-in user info.\n                const user = result.user;\n                console.log(user)\n\n                localStorage.setItem(\"user\", user.displayName);\n\n                if (user) {\n                    window.location = '/home'\n                } else {\n                    window.location = \"/\";\n                }\n                // ...\n            }).catch((error) => {\n                window.location = \"/\";\n            });\n    }\n\n\n    return (\n        <TokenContext.Provider value={{ tokenValue, signInAuth }}>\n            {props.children}\n        </TokenContext.Provider>\n    )\n}\n\nexport default TokenState"]},"metadata":{},"sourceType":"module"}